{% extends "base_with_header.html" %}
{% load staticfiles %}

{% block scripts %}
	{{ block.super }}
	<link rel="stylesheet" href='{% static 'stations/pick-a-color/pick-a-color-1.2.3.min.css' %}'>
{% endblock %}

{% block pagetitle %}
New Genre
{% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}
{% endblock %}

{% block content %}
<div class="container-fluid form-group">
	<button id="example" class="btn pull-right">Preview</button>
</div>

<div class="container-fluid">
	<form class="form-horizontal" action="{% url 'stations:list' %}" method="post" role="form">
	{% csrf_token %}
	{{ form.non_field_errors }}

	<!-- Name -->
	<div class="{{ form.name.auto_id }}_container form-group">
		{{ form.name.errors }}
		<label class="col-sm-2" for="{{ form.name.auto_id }}">{{ form.name.label }}</label>
		<input class="col-sm-10" id="{{ form.name.auto_id }}" type="text" name="{{ form.name.name }}" maxlength="{{ form.name.field.widget.attrs.maxlength }}" value="{{ form.name.value |default_if_none:"" }}"/>
	</div>

	<!-- Description -->
	<div class="{{ form.description.auto_id }}_container form-group">
		{{ form.description.errors }}
		<label class="col-sm-2" for="{{ form.description.auto_id }}">{{ form.description.label }}</label>
		<textarea class="col-sm-10" id="{{ form.description.auto_id }}" type="text" name="{{ form.description.name }}" rows="{{ form.description.field.widget.attrs.rows }}" cols="{{ form.description.field.widget.attrs.cols }}">{{ form.description.value |default_if_none:"" }}</textarea>
	</div>

	<!-- Color -->
	<div class="{{ form.color.auto_id }} form-group">
		{{ form.color.errors }}
		<label class="col-sm-2" for="{{ form.color.auto_id }}">{{ form.color.label }}</label>
		<input class="col-sm-3 color-picker form-control" id="{{ form.color.auto_id }}" type="text" name="{{ form.color.name }}" maxlength="{{ form.color.field.widget.attrs.maxlength }}" value="{{ form.color.value |default_if_none:"" }}"/>
	</div>

	</form>
</div>

{% endblock %}

{% block body_scripts %}
	{{ block.super }}
	<script src='{% static 'stations/pick-a-color/tinycolor-0.9.15.min.js' %}'></script>
	<script src='{% static 'stations/pick-a-color/pick-a-color-1.2.3.min.js' %}'></script>

	<script type="text/javascript">
		$(".color-picker").pickAColor({
			showSavedColors: false,
			allowBlank: true,
			inlineDropdown: true
		});
	</script>

	<script src='{% static 'stations/style_example.js' %}'></script>
{% endblock %}
